# 함수

### 작게 만들어라
#### 블록과 들여쓰기
- if/else/while 문 등에 들어가는 블록은 한 줄이어야 한다.
- 블록 안에서 호출하는 함수 이름을 적절히 짓는다면 코드를 이해하기 쉬워진다.
- 중첩 구조가 생길만큼 함수가 커져서는 안된다. 함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안된다.

### 한 가지만 해라
- 함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.
- 추상화 수준을 확인한다.
- 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.
#### 함수 내 섹션
- 한 가지 작업만 하는 함수는 자연스럽게 섹션으로 나누기 어렵다

### 함수 당 추상화 수준은 하나로
- 함수가 한 가지 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.
- 함수 내 추상화 수준을 섰으면 특정 표현이 근본 개념인지 세부사항인지 구분하기 어려워진다. 

### 위에서 아래로 코드 읽기: 내려가기 규칙
- 한 함수 다른에는 추상화 수준이 한 단계 낮은 함수가 온다.
- 위에서 아래로 읽어내려 가듯이 코드를 구현하면 추상화 수준을 일관되게 유지하기가 쉽다.

### Switch 문
- '다형성'을 이용하면 각 switch문을 저차원 클래스에 숨기고 절대로 반복하지 않을 수 있다

### 서술적인 이름을 사용하라
- 일관성이 있어야한다. 모듈 내에서 함수 이름은 같은 문구, 동사, 명사를 사용한다.

### 함수 인수
- 3개 이상의 항은 가능한 피하는 것이 좋다. 4개 이상은 특별한 이유가 필요하다.
- 인수는 개념을 이해하기 어렵게 만든다
- 인수가 3개를 넘어가면 인수마다 유효한 값으로 모든 조합을 구성해 테스트하기가 어려워진다.
#### 단항 형식(p.51)
- 인수를 1개로 넘기는 이유로 흔히 2개가 있다.
    1. 인수에게 질문을 던진다
        - boolean fileExist("MyFile")
    2. 인수를 뭔가로 변환해 결과를 반환하는 경우
- 함수 이름을 지을 때는 위 두 경우를 분명히 구분한다.
- 이벤트도 유용한 단항 함수 형식이다.
    - 출력인수는 없고 입력인수만 있다.
    - 함수 호출을 이벤트로 해석해 입력 인수로 시스템 상태를 바꾼다.
#### 플래그 인수
- 함수로 부울 값을 넘기는 것은 함수가 한꺼번에 여러 가지를 처리한다고 공표하는 셈이다.
#### 이항 함수
- 이항 함수는 인위적으로 순서를 기억해야 한다
- 불가피한 경우가 아니라면 단항 함수를 사용한다.
#### 삼항 함수
- 부동소수점 등 유용한 경우가 아니면 신중히 고려해라.
#### 인수 객체
- 인수가 2-3개 필요하다면 일부를 독자적인 클래스 변수로 선언할 가능성을 생각해본다.
- 변수를 묶어 보내면 이름을 붙어야 하므로 결국 개념을 표현하게 된다.
#### 인수 목록
- 가변 인수를 취하는 함수도 같은 원리가 적용된다. 삼항 함수를 넘어서는 인수를 사용할 경우 문제가 있다.
#### 동사와 키워드
- 인수 순서를 기억하지 않기 위해 함수의 이름에 인수 이름을 넣을 수 있다.

### 부수 효과를 일으키지 마라
- 부수효과로 인해 의도하지 않은 결과가 발생할 수 있다. 

### 출력 인수 
- 일반적으로 출력 인수는 피해야 한다. 함수에서 상태를 변경해야 한다면 함수가 속한 객체 상태를 변경하는 방식을 택한다.

### 명령과 조회를 분리하라
- 함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 한다.
- 객체 상태를 변경하거나 객체를 반환하거나 둘 중 하나다.

### 오류 코드보다 예외를 사용하라(p.58)
- 오류 코드 대신 예외를 사용하면 오류 처리 코드가 원해 코드에서 분리되므로 코득가 깔끔해진다. 

### try-catch 블록 뽑아내기
- try-catch문은 코드 구조에 혼란을 일으키고, 정상 동작과 오류 처리 동작을 뒤섞는다. 따라서 try-catch 블록을 별도 함수로 뽑아내는 편이 좋다.
- 정상 동작과 오류 처리 동작을 분리하면 코드를 이해하고 수정하기 쉬워진다.

### 오류 처리도 한 가지 작업이다.
- 함수는 한 가지 작업만 처리해야 하므로 오류를 처리하는 함수는 오류만 처리해야 마땅하다

### 반복하지 마라
- 중복된 코드는 수정이 어려워진다.
- 중복을 없애면 가독성 또한 좋아진다. 

### 구조적 프로그래밍
- 함수가 아주 클 때만 구조적 프로그래밍에 대한 규칙이 이익을 제공한다. 
- goto문은 큰 함수에서만 의미가 있어, 작은 함수에서는 피해야 한다.

### 함수를 어떻게 짜죠?
- 처음에는 길고 복잡한 코드를 점차 다듬는다.
- 이름을 바꾸고, 중복을 제거한다.
- 메서드를 줄이고 순서를 바꾼며 전체 클래스를 쪼개기도 한다.
- 단위 테스트는 항상 통과한다.